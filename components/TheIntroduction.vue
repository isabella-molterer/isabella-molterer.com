<!-- eslint-disable import/default -->
<template>
  <div id="introduction" class="section section__introduction introduction">
    <div class="introduction__content content">
      <TheAbout />
      <TheQuote />
    </div>

    <div id="image" class="introduction__image image">
      <svg fill="none" viewBox="0 0 100 100">
        <mask id="mask">
          <path
            fill="#fff"
            d="M81.7216 9.10731C90.413 15.8674 96.2486 26.7972 98.6698 38.7379C101.153 50.6154 100.284 63.4406 95.007 74.6863C89.7922 85.9321 80.1696 95.5983 69.057 98.7572C57.9444 101.916 45.2798 98.5677 32.8635 94.1452C20.4472 89.7228 8.27928 84.2262 3.12652 74.7495C-1.96415 65.336 -0.0396296 51.9422 3.25069 39.8119C6.60308 27.7449 11.3213 16.9414 19.3298 10.055C27.2762 3.23173 38.575 0.262353 49.998 0.00964019C61.421 -0.179895 73.0302 2.41041 81.7216 9.10731Z"
          >
            <animate
              begin="0s"
              dur="12s"
              repeatCount="indefinite"
              attributeName="d"
              values="M81.7216 9.10731C90.413 15.8674 96.2486 26.7972 98.6698 38.7379C101.153 50.6154 100.284 63.4406 95.007 74.6863C89.7922 85.9321 80.1696 95.5983 69.057 98.7572C57.9444 101.916 45.2798 98.5677 32.8635 94.1452C20.4472 89.7228 8.27928 84.2262 3.12652 74.7495C-1.96415 65.336 -0.0396296 51.9422 3.25069 39.8119C6.60308 27.7449 11.3213 16.9414 19.3298 10.055C27.2762 3.23173 38.575 0.262353 49.998 0.00964019C61.421 -0.179895 73.0302 2.41041 81.7216 9.10731Z;
                      M83.0363 9.57765C92.0902 16.6868 94.3537 29.3106 96.8759 41.868C99.4628 54.3589 102.373 66.7169 96.8759 78.5434C91.4435 90.3699 82.0184 95.6852 70.4422 99.0073C58.8661 102.329 50.7323 96.7188 36.9036 90.9657C24.7143 85.8946 12.4336 86.1612 7.06589 76.195C1.76286 66.2953 -2.13568 54.6247 1.29189 41.868C4.78414 29.1778 15.2331 23.7492 23.5757 16.5071C31.8536 9.33146 38.0898 0.275902 49.9893 0.010138C61.8888 -0.189185 73.9823 2.5349 83.0363 9.57765Z;
                      M82.0903 14.4315C91.1546 21.1626 94.3472 27.7454 96.8723 39.6349C99.4621 51.4615 102.376 63.1623 96.8723 74.3598C91.4337 85.5573 80.8171 91.1091 69.2277 94.2544C57.6382 97.3998 42.546 102.731 29.5969 98.3275C16.6478 93.924 13.0696 78.1339 7.69574 68.6978C2.38661 59.3246 -2.25319 51.7131 1.17833 39.6349C4.67459 27.6196 11.3372 21.2884 19.6893 14.4315C27.9768 7.63753 38.0186 0.254927 49.9317 0.00329743C61.8449 -0.185425 73.0259 7.76332 82.0903 14.4315Z;
                      M83.0363 9.57765C92.0902 16.6868 94.3537 29.3106 96.8759 41.868C99.4628 54.3589 102.373 66.7169 96.8759 78.5434C91.4435 90.3699 82.0184 95.6852 70.4422 99.0073C58.8661 102.329 50.7323 96.7188 36.9036 90.9657C24.7143 85.8946 12.4336 86.1612 7.06589 76.195C1.76286 66.2953 -2.13568 54.6247 1.29189 41.868C4.78414 29.1778 15.2331 23.7492 23.5757 16.5071C31.8536 9.33146 38.0898 0.275902 49.9893 0.010138C61.8888 -0.189185 73.9823 2.5349 83.0363 9.57765Z;
                      M81.7216 9.10731C90.413 15.8674 96.2486 26.7972 98.6698 38.7379C101.153 50.6154 100.284 63.4406 95.007 74.6863C89.7922 85.9321 80.1696 95.5983 69.057 98.7572C57.9444 101.916 45.2798 98.5677 32.8635 94.1452C20.4472 89.7228 8.27928 84.2262 3.12652 74.7495C-1.96415 65.336 -0.0396296 51.9422 3.25069 39.8119C6.60308 27.7449 11.3213 16.9414 19.3298 10.055C27.2762 3.23173 38.575 0.262353 49.998 0.00964019C61.421 -0.179895 73.0302 2.41041 81.7216 9.10731Z;"
            />
          </path>
        </mask>
        <image
          mask="url(#mask)"
          xlink:href="~/assets/images/Isabella-Molterer.jpg"
        />
      </svg>
    </div>
  </div>
</template>

<script>
export default {
  mounted() {
    const viewportWidth =
      window.innerWidth || document.documentElement.clientWidth;
    if (viewportWidth >= 1024) {
      const nuxtApp = useNuxtApp();
      const ScrollMagic = nuxtApp.myScrollMagic;
      const controller = new ScrollMagic.Controller();

      new ScrollMagic.Scene({
        triggerElement: "#introduction",
        triggerHook: "onLeave",
        duration: "40%",
      })
        .setPin("#introduction #image")
        .addTo(controller);
    }
  },
};
</script>

<style lang="scss">
@import "./assets/styles/abstracts/variables.scss";

.introduction {
  margin-top: 100px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  @media screen and (min-width: $breakpoint--lg) {
    margin-top: 0;
    flex-direction: row;
  }

  & > * {
    width: 100%;

    @media screen and (min-width: $breakpoint--lg) {
      width: 50%;
    }
  }

  &__content {
    order: 2;
  }

  .content {
    &__buttons {
      display: flex;
      flex-direction: row;
      gap: calc($space-unit / 2);
    }
  }

  &__image {
    display: block;
    height: 100%;
    padding: 0 3rem;
  }

  &__image image {
    display: block;
    height: 100%;
    width: 100%;
  }
}
</style>
