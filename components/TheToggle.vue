<template>
  <label class="toggle">
    <input
      v-model="$colorMode.preference"
      class="toggle__checkbox"
      true-value="dark"
      false-value="light"
      type="checkbox"
      aria-label="Theme toggle"
    />
    <div class="toggle__slot slot">
      <div class="toggle__icon-wrapper icon-wrapper icon-wrapper--sun">
        <svg
          class="icon"
          width="30"
          height="30"
          viewBox="0 0 30 30"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15 1.5625C15.2486 1.5625 15.4871 1.66127 15.6629 1.83709C15.8387 2.0129 15.9375 2.25136 15.9375 2.5V3.75C15.9375 3.99864 15.8387 4.2371 15.6629 4.41291C15.4871 4.58873 15.2486 4.6875 15 4.6875C14.7514 4.6875 14.5129 4.58873 14.3371 4.41291C14.1613 4.2371 14.0625 3.99864 14.0625 3.75V2.5C14.0625 2.25136 14.1613 2.0129 14.3371 1.83709C14.5129 1.66127 14.7514 1.5625 15 1.5625Z"
            fill="url(#paint0_linear_159_64)"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M7.8125 15C7.8125 13.0938 8.56975 11.2656 9.91767 9.91767C11.2656 8.56975 13.0938 7.8125 15 7.8125C16.9062 7.8125 18.7344 8.56975 20.0823 9.91767C21.4302 11.2656 22.1875 13.0938 22.1875 15C22.1875 16.9062 21.4302 18.7344 20.0823 20.0823C18.7344 21.4302 16.9062 22.1875 15 22.1875C13.0938 22.1875 11.2656 21.4302 9.91767 20.0823C8.56975 18.7344 7.8125 16.9062 7.8125 15ZM15 9.6875C14.3024 9.6875 13.6115 9.82491 12.967 10.0919C12.3225 10.3589 11.7368 10.7502 11.2435 11.2435C10.7502 11.7368 10.3589 12.3225 10.0919 12.967C9.82491 13.6115 9.6875 14.3024 9.6875 15C9.6875 15.6976 9.82491 16.3885 10.0919 17.033C10.3589 17.6775 10.7502 18.2632 11.2435 18.7565C11.7368 19.2498 12.3225 19.6411 12.967 19.9081C13.6115 20.1751 14.3024 20.3125 15 20.3125C16.409 20.3125 17.7602 19.7528 18.7565 18.7565C19.7528 17.7602 20.3125 16.409 20.3125 15C20.3125 13.591 19.7528 12.2398 18.7565 11.2435C17.7602 10.2472 16.409 9.6875 15 9.6875Z"
            fill="url(#paint1_linear_159_64)"
          />
          <path
            d="M6.825 5.49878C6.64827 5.32792 6.4115 5.23331 6.16568 5.23533C5.91987 5.23735 5.68469 5.33583 5.51079 5.50957C5.33688 5.68331 5.23818 5.9184 5.23592 6.16421C5.23367 6.41002 5.32806 6.64688 5.49875 6.82378L6.3825 7.70753C6.46833 7.79963 6.57183 7.87351 6.68683 7.92475C6.80183 7.97599 6.92597 8.00354 7.05185 8.00577C7.17773 8.00799 7.30276 7.98483 7.4195 7.93768C7.53623 7.89053 7.64227 7.82035 7.7313 7.73132C7.82032 7.6423 7.8905 7.53626 7.93765 7.41952C7.9848 7.30279 8.00796 7.17775 8.00574 7.05187C8.00352 6.92599 7.97597 6.80185 7.92473 6.68685C7.87349 6.57185 7.79961 6.46835 7.7075 6.38253L6.825 5.49878ZM28.4375 15C28.4375 15.2487 28.3387 15.4871 28.1629 15.6629C27.9871 15.8388 27.7486 15.9375 27.5 15.9375H26.25C26.0014 15.9375 25.7629 15.8388 25.5871 15.6629C25.4113 15.4871 25.3125 15.2487 25.3125 15C25.3125 14.7514 25.4113 14.5129 25.5871 14.3371C25.7629 14.1613 26.0014 14.0625 26.25 14.0625H27.5C27.7486 14.0625 27.9871 14.1613 28.1629 14.3371C28.3387 14.5129 28.4375 14.7514 28.4375 15ZM24.5012 6.82503C24.5908 6.73859 24.6623 6.63517 24.7115 6.52082C24.7607 6.40646 24.7866 6.28346 24.7877 6.15898C24.7889 6.0345 24.7652 5.91104 24.7181 5.7958C24.671 5.68056 24.6015 5.57586 24.5135 5.48779C24.4255 5.39973 24.3209 5.33006 24.2057 5.28287C24.0905 5.23568 23.967 5.2119 23.8426 5.21292C23.7181 5.21394 23.5951 5.23975 23.4807 5.28883C23.3663 5.33791 23.2628 5.40928 23.1762 5.49878L22.2925 6.38253C22.2004 6.46835 22.1265 6.57185 22.0753 6.68685C22.024 6.80185 21.9965 6.92599 21.9943 7.05187C21.992 7.17775 22.0152 7.30279 22.0623 7.41952C22.1095 7.53626 22.1797 7.6423 22.2687 7.73132C22.3577 7.82035 22.4638 7.89053 22.5805 7.93768C22.6972 7.98483 22.8223 8.00799 22.9482 8.00577C23.074 8.00354 23.1982 7.97599 23.3132 7.92475C23.4282 7.87351 23.5317 7.79963 23.6175 7.70753L24.5012 6.82503ZM15 25.3125C15.2486 25.3125 15.4871 25.4113 15.6629 25.5871C15.8387 25.7629 15.9375 26.0014 15.9375 26.25V27.5C15.9375 27.7487 15.8387 27.9871 15.6629 28.1629C15.4871 28.3388 15.2486 28.4375 15 28.4375C14.7514 28.4375 14.5129 28.3388 14.3371 28.1629C14.1613 27.9871 14.0625 27.7487 14.0625 27.5V26.25C14.0625 26.0014 14.1613 25.7629 14.3371 25.5871C14.5129 25.4113 14.7514 25.3125 15 25.3125ZM23.6175 22.2925C23.5317 22.2004 23.4282 22.1265 23.3132 22.0753C23.1982 22.0241 23.074 21.9965 22.9482 21.9943C22.8223 21.9921 22.6972 22.0152 22.5805 22.0624C22.4638 22.1095 22.3577 22.1797 22.2687 22.2687C22.1797 22.3578 22.1095 22.4638 22.0623 22.5805C22.0152 22.6973 21.992 22.8223 21.9943 22.9482C21.9965 23.0741 22.024 23.1982 22.0753 23.3132C22.1265 23.4282 22.2004 23.5317 22.2925 23.6175L23.1762 24.5013C23.2621 24.5934 23.3656 24.6673 23.4806 24.7185C23.5956 24.7697 23.7197 24.7973 23.8456 24.7995C23.9715 24.8017 24.0965 24.7786 24.2132 24.7314C24.33 24.6843 24.436 24.6141 24.525 24.5251C24.6141 24.4361 24.6842 24.33 24.7314 24.2133C24.7786 24.0965 24.8017 23.9715 24.7995 23.8456C24.7973 23.7197 24.7697 23.5956 24.7185 23.4806C24.6672 23.3656 24.5934 23.2621 24.5012 23.1763L23.6175 22.2925ZM4.6875 15C4.6875 15.2487 4.58873 15.4871 4.41291 15.6629C4.2371 15.8388 3.99864 15.9375 3.75 15.9375H2.5C2.25136 15.9375 2.0129 15.8388 1.83709 15.6629C1.66127 15.4871 1.5625 15.2487 1.5625 15C1.5625 14.7514 1.66127 14.5129 1.83709 14.3371C2.0129 14.1613 2.25136 14.0625 2.5 14.0625H3.75C3.99864 14.0625 4.2371 14.1613 4.41291 14.3371C4.58873 14.5129 4.6875 14.7514 4.6875 15ZM7.7075 23.6175C7.8731 23.4398 7.96325 23.2048 7.95897 22.9619C7.95468 22.719 7.85629 22.4873 7.68453 22.3155C7.51276 22.1437 7.28103 22.0453 7.03815 22.0411C6.79528 22.0368 6.56022 22.1269 6.3825 22.2925L5.49875 23.1763C5.33315 23.354 5.243 23.5891 5.24728 23.8319C5.25157 24.0748 5.34996 24.3065 5.52172 24.4783C5.69349 24.6501 5.92522 24.7485 6.1681 24.7527C6.41097 24.757 6.64603 24.6669 6.82375 24.5013L7.7075 23.6175Z"
            fill="url(#paint2_linear_159_64)"
          />
          <defs>
            <linearGradient
              id="paint0_linear_159_64"
              x1="14.3043"
              y1="2.05842"
              x2="15.7788"
              y2="2.11277"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#EA5657" />
              <stop offset="1" stop-color="#B7BEFF" />
            </linearGradient>
            <linearGradient
              id="paint1_linear_159_64"
              x1="9.66642"
              y1="10.0938"
              x2="20.9436"
              y2="10.7865"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#EA5657" />
              <stop offset="1" stop-color="#B7BEFF" />
            </linearGradient>
            <linearGradient
              id="paint2_linear_159_64"
              x1="5.02852"
              y1="8.89854"
              x2="26.0852"
              y2="10.3954"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#EA5657" />
              <stop offset="1" stop-color="#B7BEFF" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div class="toggle__button"></div>
      <div class="toggle__icon-wrapper icon-wrapper icon-wrapper--moon">
        <svg
          class="icon"
          width="30"
          height="30"
          viewBox="0 0 30 30"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14.3575 5.95996C12.7199 6.07688 11.1448 6.63647 9.80048 7.57895C8.45616 8.52144 7.39313 9.8114 6.72493 11.3111C6.05673 12.8107 5.80847 14.4637 6.00667 16.0935C6.20487 17.7233 6.84208 19.2686 7.85024 20.5644C8.85839 21.8602 10.1996 22.8578 11.7306 23.4506C13.2617 24.0434 14.925 24.2091 16.5429 23.9301C18.1608 23.6512 19.6725 22.9379 20.9166 21.8666C22.1606 20.7952 23.0903 19.4061 23.6063 17.8475C22.0262 18.4999 20.2758 18.6161 18.6234 18.1782C16.9709 17.7403 15.5078 16.7726 14.4581 15.4233C13.4085 14.074 12.8304 12.4177 12.8125 10.7084C12.7945 8.99904 13.3377 7.33097 14.3588 5.95996H14.3575ZM4.0625 15C4.06236 13.4236 4.40296 11.8659 5.06097 10.4334C5.71897 9.00101 6.67882 7.72773 7.87478 6.70082C9.07074 5.67392 10.4745 4.91766 11.99 4.48385C13.5055 4.05004 15.0968 3.94894 16.655 4.18746C16.8376 4.21535 17.008 4.29658 17.1446 4.42096C17.2812 4.54533 17.378 4.7073 17.4229 4.88652C17.4678 5.06575 17.4587 5.25424 17.3968 5.42832C17.3349 5.60239 17.223 5.7543 17.075 5.86496C16.4446 6.3381 15.9147 6.93202 15.5162 7.6121C15.1177 8.29217 14.8586 9.04478 14.754 9.82603C14.6494 10.6073 14.7015 11.4015 14.9071 12.1625C15.1127 12.9234 15.4677 13.6358 15.9515 14.2581C16.4353 14.8804 17.0381 15.4001 17.7249 15.787C18.4116 16.1738 19.1685 16.4201 19.9515 16.5114C20.7344 16.6026 21.5276 16.5371 22.285 16.3186C23.0423 16.1001 23.7485 15.733 24.3625 15.2387C24.506 15.1219 24.6808 15.0502 24.8649 15.0325C25.049 15.0149 25.2343 15.0521 25.3973 15.1395C25.5603 15.2269 25.6939 15.3606 25.7811 15.5237C25.8683 15.6868 25.9053 15.8721 25.8875 16.0562C25.6128 18.8499 24.2746 21.4311 22.1499 23.2656C20.0251 25.1001 17.2763 26.0475 14.4725 25.9118C11.6686 25.7761 9.02419 24.5677 7.08649 22.5366C5.14879 20.5054 4.06611 17.8071 4.0625 15Z"
            fill="url(#paint0_linear_159_60)"
          />
          <defs>
            <linearGradient
              id="paint0_linear_159_60"
              x1="6.8778"
              y1="7.53111"
              x2="24.0032"
              y2="8.58153"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#EA5657" />
              <stop offset="1" stop-color="#B7BEFF" />
            </linearGradient>
          </defs>
        </svg>
      </div>
    </div>
  </label>
</template>

<style lang="scss">
@import "./assets/styles/abstracts/variables.scss";

.toggle {
  &__slot {
    position: relative;
    height: 2rem;
    width: 4rem;
    border: 3px solid #e4e7ec;
    border-radius: 2rem;
    background-color: lighten($color--silver, 5%);
    transition: all 250ms;

    &:hover {
      cursor: pointer;
      border: 3px solid $color--secondary;
    }
  }

  &__button {
    transform: translate(2.25rem, 0.225rem);
    position: absolute;
    height: 1.25rem;
    width: 1.25rem;
    border-radius: 50%;
    background-color: darken($color--silver, 10%);
    transition: background-color 250ms, border-color 250ms,
      transform 500ms cubic-bezier(0.26, 2, 0.46, 0.71);
  }

  &__checkbox {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
  }
}

.icon-wrapper {
  &--sun {
    position: absolute;
    opacity: 1;
    transform: translate(0.5rem, -0.075rem) rotate(15deg);
    transform-origin: 50% 50%;
    transition: opacity 150ms, transform 500ms cubic-bezier(0.26, 2, 0.46, 0.71);

    .icon {
      position: absolute;
      height: 1.5rem;
      width: 1.5rem;
    }
  }

  &--moon {
    position: absolute;
    height: 1.5rem;
    width: 1.5rem;
    opacity: 0;
    transform: translate(1.5rem, 0rem) rotate(0deg);
    transform-origin: 50% 50%;
    transition: opacity 150ms,
      transform 500ms cubic-bezier(0.26, 2.5, 0.46, 0.71);

    .icon {
      position: absolute;
      height: 1.5rem;
      width: 1.5rem;
      color: $color--light;
    }
  }
}

.dark-mode {
  .toggle__slot {
    background-color: #374151;
  }

  .toggle__button {
    background-color: lighten($color--dark, 25%);
    box-shadow: inset 0px 0px 0px 0.75em $color--light;
    transform: translate(0.25rem, 0.225rem);
  }

  .icon-wrapper--sun {
    opacity: 0;
    transform: translate(1.5rem, 0rem) rotate(0deg);
  }

  .icon-wrapper--moon {
    opacity: 1;
    transform: translate(2rem, 0rem) rotate(-15deg);
  }
}
</style>
